<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HOW TO CONFIGURE EMACS - THE SILENT ORCAS</title>
    <link rel="stylesheet" href="https://nothing-r.github.io/The_Orcas/style.css">
    <link rel="icon" type="image/png" href="https://nothing-r.github.io/The_Orcas/favicon.png">
    <link rel="shortcut icon" type="image/png" href="https://nothing-r.github.io/The_Orcas/favicon-16x16.png">
</head>
<body>
    <div class="container">
        <button class="hamburger" id="hamburger-button" aria-label="Open navigation menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <div class="nav-drawer" id="nav-drawer">
            
<div class="toc-sidebar" id="mobile-toc">
    <h3>Table of Contents</h3>
    <ul id="mobile-toc-list"></ul>
</div>

        </div>
        
        <header>
            <nav>
                <a href="https://nothing-r.github.io/The_Orcas"
                   class="home-link ">
                   THE SILENT ORCAS
                </a>
                <div class="nav-links">
		  <!-- THIS IS FOR MAIN FOLDERS  -->
                    <a href="https://nothing-r.github.io/The_Orcas/blog" class="">BLOG</a>
                    <a href="https://nothing-r.github.io/The_Orcas/whoami" class="">WHOAMI</a>
                    <a href="https://nothing-r.github.io/The_Orcas/system" class="active">SYSTEM_SETUP</a>
		    
                    
                    <a href="https:&#x2F;&#x2F;github.com&#x2F;NOTHING-R&#x2F;" target="_blank">GITHUB</a>
                    
                </div>
            </nav>
        </header>
        

        <main>
            
<div class="toc-sidebar" id="desktop-toc">
    <h3>Table of Contents</h3>
    <ul id="desktop-toc-list"></ul>
</div>

<article class="page-content">
    <header class="page-header">
        <h1><div class="back-nav"><a href="javascript:history.back()" class="back-link">../</a></div>HOW TO CONFIGURE EMACS</h1>
        
        <div class="page-meta">
            <time datetime="2025-08-06">2025.08.06</time>
        </div>
        
    </header>

    <div class="content">
        <h1 id="basic-of-emacs">BASIC OF EMACS</h1>
<p><a rel="noopener nofollow noreferrer" target="_blank" href="https://www.gnu.org/software/emacs/download.html">Emacs</a> holo akta <a rel="noopener nofollow noreferrer" target="_blank" href="https://www.gnu.org/software/">gnu</a> software. Emacs mainly akta text editor. Kintu emacs sompurno ta e <a rel="noopener nofollow noreferrer" target="_blank" href="https://en.wikipedia.org/wiki/Emacs_Lisp">emacs lisp</a> diye lekha to, emacs lisp diye sompurno emacs ta k e configure kora jai. Emacs ta k configure korar jonno emacs er basic concept gula bujhle e enough first a. Jdi r o besi valo kore bojha lage tkhn emacs lisp ta k valo vabe bojha lagbe o emacs lisp diye code kora sikhte hobe.</p>
<h1 id="basic-concept-of-emacs">BASIC CONCEPT OF EMACS</h1>
<p>Emacs er <a rel="noopener nofollow noreferrer" target="_blank" href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Frames.html">Frames</a>, <a rel="noopener nofollow noreferrer" target="_blank" href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Buffers.html">Buffers</a> , <a rel="noopener nofollow noreferrer" target="_blank" href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Windows.html">Window</a>  basic package install, repo adding r basic package customization ta sikhle e emacs use kora jabe abong coto kno issue hoile nije e fix kora somvob.</p>
<h2 id="frames">Frames</h2>
<p>Windows 10 ba 11 othoba linux er gnome othoba onno sob Desktop Environment a amra j vabe akta software open kori tkhn oi application ta akta window hisabe open hoi amra ay vabe akta software er 2-3 ta ba tar thekeo besi open korte pari. Emacs er bepar ta o same kintu emacs er akta akta window k Frame bole. Mane jdi emacs idvidualy 2 ba 3 bar open kora hoi to oi 2-3 ta window k emacs er ak akta frame bola hoi….To emacs er ak akta Instance k Frame bola hoi.</p>
<h2 id="window">Window</h2>
<p>Emacs er window concept ta aktu alada. Amra akta emacs Frame k split korte pari. Jmn amra jdi C-x 2 use kori tahole Emacs er frame ta 2 ta alada windows a split hobe. C-x 2 Frame a nice akta alada window open korbe abong C-x 3 Frame er right side a akta window open korbe abong ay vabe issa moto joto khusi toto gula window te frame ta k split kora jabe.</p>
<h2 id="buffers">BUFFERS</h2>
<p>Emacs er sob kicu e buffer. Amra ja e open kori oita e akta buffer. kno folder, file, image sob kicu e as a buffer open hoi <code>M-x RET ibuffer RET</code> dile ibuffer open hobe abong emacs a open thaka sob buffer dekha jabe. Emacs er kicu defult buffer ace, jkhn emacs open kora hoi tkhni oi buffer gula create hoi. Aygula hocce <strong>scratch</strong> abong <strong>Message</strong>. Message buffer a emacs a ja ja kora hocce tar sob kicu e Message buffer a paoya jai. R akta buffer create hoi jdi kno error ase oita hocce <strong>Warnings</strong> Buffer. Warnings buffer mainly error gula show kore ba kno package problems, config problem gula show kore.</p>
<h1 id="prerequirements">PREREQUIREMENTS</h1>
<p>Emacs ta sekhar age vim ta k valo vabe sekha dorkar, karon amra emacs a evil mode use korbo, j ta emacs a vim keybinding use korbe. Vim er basic ta sekhar jonno vim basic er ay video ta dekhle normal editing easyly korte jabe:-</p>
<iframe width="350" height="200"
  src="https://www.youtube.com/embed/z4eA2eC28qg"
  title="YouTube video player"
  frameborder="0"
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
  allowfullscreen>
  </iframe>
<h1 id="emacs-configuretion">EMACS CONFIGURETION</h1>
<p>Emacs mainly package er upor kaj kore, jemon arch ba debian er package repo er theke package download kora jai thik temon emacs er repo er theke j j package dorkar oi gula download kore emacs customize korte hoi. Ami amr config a total 4 ta repo use kori <a rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/progfolio/elpaca">elpaca</a>, <a rel="noopener nofollow noreferrer" target="_blank" href="https://melpa.org">melpa</a>, <a rel="noopener nofollow noreferrer" target="_blank" href="https://elpa.gnu.org/">elpa</a> abong <a rel="noopener nofollow noreferrer" target="_blank" href="https://orgmode.org/">org</a>. Ami sob package gulo ay repo theke e download kori. To emacs er main config file gula edit korar maddhome puro emacs ta k e customize kora jai. Emacs customize korar jonno mainly 2 ta file customize kora lage. init.el abong early-init.el.</p>
<h2 id="emacs-config-files">EMACS CONFIG FILES</h2>
<p>Emacs er sob theke valo akta feature hocce <code>org mode</code>. Org mode er onk feature ace. Abong emacs use korle org mode file theke onno mode jemon markdown ba html a convert korao onk easy hoi. To nijer config file lekahr jonno org file use kora best.</p>
<h2 id="directory-structure">Directory Structure</h2>
<p>First a amader .config/emacs/ directory ta banaite hobe abong amader system a kno .emacs.d directory thakle oita k delete kore dite hobe. R directory er vitore 3 ta file create korte hobe init.el, early-init.el abong config.org.</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>rm -rf ~/.emacs.d
</span><span>mkdir -p ~/.config/emacs
</span><span>touch -p ~/.config/emacs/init.el
</span><span>touch -p ~/.config/emacs/early-init.el
</span><span>touch -p ~/.config/emacs/config.org
</span></code></pre>
<h2 id="init-el">INIT.EL</h2>
<p>First a amader .config/emacs/init.el file ta edit korte hobe:-</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>vim .config/emacs/init.el
</span></code></pre>
<p>Abong er pore file ta te ay line gulo add korte hobe. Ay line gulo init.el file k bole j amra amader config file hisabe config.org file ta use korbo</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(org-babel-load-file
</span><span> (expand-file-name
</span><span>  &quot;config.org&quot;
</span><span>  user-emacs-directory))
</span></code></pre>
<h2 id="early-init-el">EARLY-INIT.EL</h2>
<p>Amra jkhn amader repo hisabe <a rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/progfolio/elpaca">elpaca</a> use kori tkhn amader r o extra akta file add kora lage amader emacs folder a early-init.el ja elpaca er repo teo lekha ace.</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>vim ~/.config/emacs/early-init.el
</span></code></pre>
<p>File ta te ay line ta add kore dite hobe:-</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(setq package-enable-at-startup nil)
</span><span>;; (add-to-list &#39;default-frame-alist &#39;(font . &quot;JetBrains Mono-11&quot;))
</span></code></pre>
<h1 id="setting-up-emacs">SETTING UP EMACS</h1>
<h2 id="all-the-repos">ALL THE REPOS</h2>
<h3 id="elpaca">ELPACA</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(defvar elpaca-installer-version 0.11)
</span><span>(defvar elpaca-directory (expand-file-name &quot;elpaca/&quot; user-emacs-directory))
</span><span>(defvar elpaca-builds-directory (expand-file-name &quot;builds/&quot; elpaca-directory))
</span><span>(defvar elpaca-repos-directory (expand-file-name &quot;repos/&quot; elpaca-directory))
</span><span>(defvar elpaca-order &#39;(elpaca :repo &quot;https://github.com/progfolio/elpaca.git&quot;
</span><span>                              :ref nil :depth 1 :inherit ignore
</span><span>                              :files (:defaults &quot;elpaca-test.el&quot; (:exclude &quot;extensions&quot;))
</span><span>                              :build (:not elpaca--activate-package)))
</span><span>(let* ((repo  (expand-file-name &quot;elpaca/&quot; elpaca-repos-directory))
</span><span>       (build (expand-file-name &quot;elpaca/&quot; elpaca-builds-directory))
</span><span>       (order (cdr elpaca-order))
</span><span>       (default-directory repo))
</span><span>  (add-to-list &#39;load-path (if (file-exists-p build) build repo))
</span><span>  (unless (file-exists-p repo)
</span><span>    (make-directory repo t)
</span><span>    (when (&lt;= emacs-major-version 28) (require &#39;subr-x))
</span><span>    (condition-case-unless-debug err
</span><span>        (if-let* ((buffer (pop-to-buffer-same-window &quot;*elpaca-bootstrap*&quot;))
</span><span>                  ((zerop (apply #&#39;call-process `(&quot;git&quot; nil ,buffer t &quot;clone&quot;
</span><span>                                                  ,@(when-let* ((depth (plist-get order :depth)))
</span><span>                                                      (list (format &quot;--depth=%d&quot; depth) &quot;--no-single-branch&quot;))
</span><span>                                                  ,(plist-get order :repo) ,repo))))
</span><span>                  ((zerop (call-process &quot;git&quot; nil buffer t &quot;checkout&quot;
</span><span>                                        (or (plist-get order :ref) &quot;--&quot;))))
</span><span>                  (emacs (concat invocation-directory invocation-name))
</span><span>                  ((zerop (call-process emacs nil buffer nil &quot;-Q&quot; &quot;-L&quot; &quot;.&quot; &quot;--batch&quot;
</span><span>                                        &quot;--eval&quot; &quot;(byte-recompile-directory \&quot;.\&quot; 0 &#39;force)&quot;)))
</span><span>                  ((require &#39;elpaca))
</span><span>                  ((elpaca-generate-autoloads &quot;elpaca&quot; repo)))
</span><span>            (progn (message &quot;%s&quot; (buffer-string)) (kill-buffer buffer))
</span><span>          (error &quot;%s&quot; (with-current-buffer buffer (buffer-string))))
</span><span>      ((error) (warn &quot;%s&quot; err) (delete-directory repo &#39;recursive))))
</span><span>  (unless (require &#39;elpaca-autoloads nil t)
</span><span>    (require &#39;elpaca)
</span><span>    (elpaca-generate-autoloads &quot;elpaca&quot; repo)
</span><span>    (let ((load-source-file-function nil)) (load &quot;./elpaca-autoloads&quot;))))
</span><span>(add-hook &#39;after-init-hook #&#39;elpaca-process-queues)
</span><span>(elpaca `(,@elpaca-order))
</span><span>
</span><span>;; Install use-package support
</span><span>(elpaca elpaca-use-package
</span><span>  ;; Enable use-package :ensure support for Elpaca.
</span><span>  (elpaca-use-package-mode))
</span></code></pre>
<h3 id="some-repo">SOME REPO</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(require &#39;package)
</span><span>(setq package-archives
</span><span>      &#39;((&quot;gnu&quot; . &quot;https://elpa.gnu.org/packages/&quot;)
</span><span>        (&quot;melpa&quot; . &quot;https://melpa.org/packages/&quot;)
</span><span>        (&quot;org&quot; . &quot;https://orgmode.org/elpa/&quot;)))
</span><span>(package-initialize)
</span></code></pre>
<h2 id="doom-modelime-and-doom-theme">DOOM MODELIME AND DOOM THEME</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(use-package doom-modeline
</span><span>  :ensure t
</span><span>  :config
</span><span>  (doom-modeline-mode 1))
</span><span>
</span><span>(set-face-attribute &#39;mode-line nil
</span><span>                    :font &quot;FiraCode Nerd Font&quot;
</span><span>                    :height 140)
</span><span>
</span><span>;;======= DOOM THEMES ======= 
</span><span>;; :&gt;&gt;&gt;&gt;&gt; FIRST INSTALL ER SMY AY LINE GULO UNCOMMENT RAKHA LAGBE SECOND BOOT ER SMY ABR COMMENT KORE DITE HOBE &lt;&lt;&lt;&lt;&lt;:
</span><span>;; (elpaca
</span><span>;;   (doom-themes :host github :repo &quot;doomemacs/themes&quot;
</span><span>;;                :files (:defaults)))
</span><span>
</span><span>(use-package doom-themes
</span><span>  :ensure t
</span><span>  :config
</span><span>(setq doom-themes-enable-bold t
</span><span>      doom-themes-enable-italic t)
</span><span>(load-theme &#39;doom-one t))
</span></code></pre>
<h2 id="fonts">FONTS</h2>
<p>If you are having trouble of loading the fonts please add those line in your early-init.el file</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(add-to-list &#39;default-frame-alist &#39;(font . &quot;JetBrains Mono-11&quot;))
</span><span>
</span><span>(set-face-attribute &#39;default nil :font &quot;JetBrains Mono&quot; :height 160 :weight &#39;medium)
</span><span>;; (set-face-attribute &#39;variable-pitch nil :font &quot;Ubuntu&quot; :height 120 :weight &#39;medium)
</span><span>;; (set-face-attribute &#39;fixed-pitch nil :font &quot;JetBrains Mono&quot; :height 120 :weight &#39;medium)
</span><span>;; (set-face-attribute &#39;font-lock-comment-face nil :slant &#39;italic)
</span><span>;; (set-face-attribute &#39;font-lock-keyword-face nil :slant &#39;italic)
</span><span>;; (setq-default line-spacing 0.12)
</span></code></pre>
<h2 id="org-mode">ORG MODE</h2>
<h3 id="org-main">ORG MAIN</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(use-package toc-org
</span><span>  :ensure t
</span><span>  :commands toc-org-enable
</span><span>  :init (add-hook &#39;org-mode-hook &#39;toc-org-enable))
</span><span>(add-hook &#39;org-mode-hook &#39;org-indent-mode)
</span><span>
</span><span>(use-package org-bullets
</span><span>  :ensure t)
</span><span>(add-hook &#39;org-mode-hook (lambda () (org-bullets-mode 1)))
</span><span>
</span><span>(require &#39;org-tempo)
</span></code></pre>
<h2 id="markdown-converter-for-zola">MARKDOWN CONVERTER FOR ZOLA</h2>
<h3 id="org-file-to-markdwon">ORG FILE TO MARKDWON</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(defun my/org-md-export-to-markdown-with-header ()
</span><span>  &quot;Export current Org file to markdown with a custom TOML-style header at the top.&quot;
</span><span>  (interactive)
</span><span>  (let* ((org-md-headline-style &#39;atx)
</span><span>         (org-export-with-toc nil)
</span><span>         (org-export-with-section-numbers nil)
</span><span>         (org-export-with-smart-quotes t)
</span><span>         (org-export-with-drawers nil)
</span><span>         (org-export-with-priority nil)
</span><span>         (outfile (org-md-export-to-markdown)))
</span><span>    (with-current-buffer (find-file-noselect outfile)
</span><span>      (goto-char (point-min))
</span><span>      (insert &quot;+++\n&quot;)
</span><span>      (insert &quot;title = \&quot;&quot; (file-name-base outfile) &quot;\&quot;\n&quot;)
</span><span>      (insert &quot;date = \&quot;&quot; (format-time-string &quot;%Y-%m-%d&quot;) &quot;\&quot;\n&quot;)
</span><span>      (insert &quot;author = \&quot;&quot; user-full-name &quot;\&quot;\n&quot;)
</span><span>      (insert &quot;+++\n\n&quot;)
</span><span>      (save-buffer))))
</span></code></pre>
<h3 id="org-tempo-shortcut-for-laoding-youtube-video-and-normal-video">ORG TEMPO SHORTCUT FOR LAODING YOUTUBE VIDEO AND NORMAL VIDEO</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>;;&gt;&gt;&gt;&gt;&gt;&gt;youtube template&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
</span><span>(add-to-list &#39;org-structure-template-alist
</span><span>             &#39;(&quot;y&quot; . &quot;EXPORT html\n&lt;iframe width=\&quot;560\&quot; height=\&quot;315\&quot;\n  src=\&quot;https://www.youtube.com/embed/\&quot;\n  title=\&quot;YouTube video player\&quot;\n  frameborder=\&quot;0\&quot;\n  allow=\&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\&quot;\n  allowfullscreen&gt;\n&lt;/iframe&gt;&quot;))
</span><span>
</span><span>;;&gt;&gt;&gt;&gt;&gt;&gt;video template&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
</span><span>(add-to-list &#39;org-structure-template-alist
</span><span>             &#39;(&quot;z&quot; . &quot;EXPORT html\n&lt;video controls width=\&quot;100%\&quot;&gt;\n  &lt;source src=\&quot;/videos/.mp4\&quot; type=\&quot;video/mp4\&quot;&gt;\n  Your browser does not support the video tag.\n&lt;/video&gt;&quot;))
</span><span>
</span><span>;;&gt;&gt;&gt;&gt;&gt;&gt;Image template&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
</span><span>(tempo-define-template
</span><span> &quot;j&quot;
</span><span> &#39;(&quot;#+CAPTION: IMAGE&quot;
</span><span>   &quot;[[]]&quot;)
</span><span> &quot;&lt;j&quot;
</span><span> &quot;Insert image caption and link placeholder in Org-mode&quot;)
</span></code></pre>
<h3 id="org-mode-graphical-tweaks">ORG MODE GRAphical TWeaks</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(setq org-edit-src-content-indentation 0) ;; set src block automatic indent to 0 instead of 2.
</span><span>(delete-selection-mode 1)    ;; you can select text and delete it by typing.
</span><span>(electric-indent-mode -1)    ;; turn off the weird indenting that emacs does by default.
</span></code></pre>
<h2 id="graphical-user-interface-tweaks">GRAPHICAL USER INTERFACE TWEAKS</h2>
<h3 id="default-bip-sound-disable">DEFAULT BIP SOUND DISABLE</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(use-package emacs
</span><span>  :ensure nil
</span><span>  :config
</span><span>  (setq ring-bell-function #&#39;ignore))
</span></code></pre>
<h3 id="disable-menubar-toolbars-and-scrollbars">Disable Menubar, Toolbars and Scrollbars</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(menu-bar-mode -1)           ;; Disable the menu bar 
</span><span>(scroll-bar-mode -1)         ;; disable the scroll bar
</span><span>(tool-bar-mode -1)           ;; Disable the tool bar
</span></code></pre>
<h3 id="display-line-numbers-and-truncated-lines">Display Line Numbers and Truncated Lines</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(global-auto-revert-mode t)  ;; Automatically show changes if the file has changed
</span><span>(global-visual-line-mode t)  ;; Enable truncated lines
</span></code></pre>
<h3 id="display-line-number-mode">DISPLAY LINE NUMBER MODE</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(global-display-line-numbers-mode 1) ;; Display line numbers
</span></code></pre>
<h3 id="for-pair-mode-like">FOR PAIR MODE: LIKE()</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(electric-pair-mode 1)       ;; Turns on automatic parens pairing
</span><span>;; The following prevents &lt;&gt; from auto-pairing when electric-pair-mode is on.
</span><span>;; Otherwise, org-tempo is broken when you try to &lt;s TAB...
</span><span>(add-hook &#39;org-mode-hook (lambda ()
</span><span>                           (setq-local electric-pair-inhibit-predicate
</span><span>                       `(lambda (c)
</span><span>                      (if (char-equal c ?&lt;) t (,electric-pair-inhibit-predicate c))))))
</span></code></pre>
<h3 id="zooming-in-and-out">ZOOMING IN AND OUT</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>;;========= ZOOMING IN AND OUT ==========
</span><span>(global-set-key (kbd &quot;C-=&quot;) &#39;text-scale-increase)
</span><span>(global-set-key (kbd &quot;C--&quot;) &#39;text-scale-decrease)
</span><span>(global-set-key (kbd &quot;&lt;C-wheel-up&gt;&quot;) &#39;text-scale-increase)
</span><span>(global-set-key (kbd &quot;&lt;C-wheel-down&gt;&quot;) &#39;text-scale-decrease)
</span><span>;;=========TRANSPARENT STARTUP==========
</span><span>(setq inhibit-startup-message t)
</span><span>(setq initial-scratch-message nil)
</span></code></pre>
<h2 id="minibuffer-escape">MINIBUFFER ESCAPE</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(global-set-key [escape] &#39;keyboard-escape-quit);;MInibuffer escape
</span></code></pre>
<h2 id="evil-mode">EVIL MODE</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(use-package evil
</span><span>  :ensure t
</span><span>  :init
</span><span>  (setq evil-want-integration t)
</span><span>  (setq evil-want-keybinding nil)
</span><span>  (setq evil-vsplit-window-right t)
</span><span>  (setq evil-split-window-below t)
</span><span>  (evil-mode 1))
</span><span>
</span><span>(use-package evil-collection
</span><span>  :ensure t
</span><span>  :after evil
</span><span>  :config
</span><span>  (evil-collection-init))
</span><span>
</span><span>(use-package evil-tutor
</span><span>  :ensure t)
</span><span>
</span><span>;; Using RETURN to follow links in Org/Evil 
</span><span>;; Unmap keys in &#39;evil-maps if not done, (setq org-return-follows-link t) will not work
</span><span>(with-eval-after-load &#39;evil-maps
</span><span>  (define-key evil-motion-state-map (kbd &quot;SPC&quot;) nil)
</span><span>  (define-key evil-motion-state-map (kbd &quot;RET&quot;) nil)
</span><span>  (define-key evil-motion-state-map (kbd &quot;TAB&quot;) nil))
</span><span>;; Setting RETURN key in org-mode to follow links
</span><span>(setq org-return-follows-link  t)
</span></code></pre>
<h2 id="vterm">VTERM</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(use-package vterm
</span><span>  :ensure t)
</span><span>(add-hook &#39;vterm-mode-hook (lambda () (display-line-numbers-mode -1)))
</span></code></pre>
<h2 id="counsel-and-ivy">COUNSEL AND IVY</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(use-package counsel
</span><span>  :ensure t
</span><span>  :after ivy
</span><span>  :config (counsel-mode))
</span><span>
</span><span>(use-package ivy
</span><span>  :ensure t
</span><span>  :bind
</span><span>  ;; ivy-resume resumes the last Ivy-based completion.
</span><span>  ((&quot;C-c C-r&quot; . ivy-resume)
</span><span>   (&quot;C-x B&quot; . ivy-switch-buffer-other-window))
</span><span>  :custom
</span><span>  (setq ivy-use-virtual-buffers t)
</span><span>  (setq ivy-count-format &quot;(%d/%d) &quot;)
</span><span>  (setq enable-recursive-minibuffers t)
</span><span>  :config
</span><span>  (ivy-mode))
</span><span>
</span><span>(use-package all-the-icons-ivy-rich
</span><span>  :ensure t
</span><span>  :init (all-the-icons-ivy-rich-mode 1))
</span><span>
</span><span>(use-package ivy-rich
</span><span>  :ensure t
</span><span>  :after ivy
</span><span>  :init (ivy-rich-mode 1) ;; this gets us descriptions in M-x.
</span><span>  :custom
</span><span>  (ivy-virtual-abbreviate &#39;full
</span><span>   ivy-rich-switch-buffer-align-virtual-buffer t
</span><span>   ivy-rich-path-style &#39;abbrev)
</span><span>  :config
</span><span>  (ivy-set-display-transformer &#39;ivy-switch-buffer
</span><span>                               &#39;ivy-rich-switch-buffer-transformer))
</span></code></pre>
<h2 id="general-keybinding">GENERAL KEYBINDING</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(use-package general
</span><span>  :ensure t
</span><span>  :config
</span><span>
</span><span>  ;; Define &#39;SPC&#39; as the global leader key
</span><span>  (general-create-definer dt/leader-keys
</span><span>    :states &#39;(normal insert visual emacs)
</span><span>    :keymaps &#39;override
</span><span>    :prefix &quot;SPC&quot;  ;; Leader key
</span><span>    :global-prefix &quot;M-SPC&quot;)  ;; Access leader in insert mode
</span><span>
</span><span>  ;; Define the keybindings
</span><span>  (dt/leader-keys
</span><span>    &quot;SPC&quot; &#39;(counsel-M-x :wk &quot;Counsel M-x&quot;)
</span><span>    &quot;.&quot; &#39;(find-file :wk &quot;Find file&quot;)
</span><span>    &quot;=&quot; &#39;(perspective-map :wk &quot;Perspective&quot;)
</span><span>    &quot;TAB TAB&quot; &#39;(comment-line :wk &quot;Comment lines&quot;)
</span><span>    &quot;u&quot; &#39;(universal-argument :wk &quot;Universal argument&quot;))
</span><span>
</span><span>  (dt/leader-keys
</span><span>    &quot;b&quot; &#39;(:ignore t :wk &quot;Bookmarks/Buffers&quot;)
</span><span>    &quot;b b&quot; &#39;(switch-to-buffer :wk &quot;Switch to buffer&quot;)
</span><span>    ;;&quot;b B&quot; &#39;(exwm-workspace-switch-to-buffer :wk &quot;Exwm buffer switch&quot;)
</span><span>    &quot;b c&quot; &#39;(clone-indirect-buffer :wk &quot;Create indirect buffer copy in a split&quot;)
</span><span>    &quot;b C&quot; &#39;(clone-indirect-buffer-other-window :wk &quot;Clone indirect buffer in new window&quot;)
</span><span>    &quot;b d&quot; &#39;(bookmark-delete :wk &quot;Delete bookmark&quot;)
</span><span>    &quot;b i&quot; &#39;(ibuffer :wk &quot;Ibuffer&quot;)
</span><span>    &quot;b k&quot; &#39;(kill-current-buffer :wk &quot;Kill current buffer&quot;)
</span><span>    &quot;b K&quot; &#39;(kill-some-buffers :wk &quot;Kill multiple buffers&quot;)
</span><span>    &quot;b l&quot; &#39;(list-bookmarks :wk &quot;List bookmarks&quot;)
</span><span>    &quot;b m&quot; &#39;(bookmark-set :wk &quot;Set bookmark&quot;)
</span><span>    &quot;b n&quot; &#39;(next-buffer :wk &quot;Next buffer&quot;)
</span><span>    &quot;b p&quot; &#39;(previous-buffer :wk &quot;Previous buffer&quot;)
</span><span>    &quot;b r&quot; &#39;(revert-buffer :wk &quot;Reload buffer&quot;)
</span><span>    &quot;b R&quot; &#39;(rename-buffer :wk &quot;Rename buffer&quot;)
</span><span>    &quot;b s&quot; &#39;(basic-save-buffer :wk &quot;Save buffer&quot;)
</span><span>    &quot;b S&quot; &#39;(save-some-buffers :wk &quot;Save multiple buffers&quot;)
</span><span>    &quot;b w&quot; &#39;(bookmark-save :wk &quot;Save current bookmarks to bookmark file&quot;))
</span><span>
</span><span>  (dt/leader-keys
</span><span>    &quot;d&quot; &#39;(:ignore t :wk &quot;Dired&quot;)
</span><span>    &quot;d d&quot; &#39;(dired :wk &quot;Open dired&quot;)
</span><span>    &quot;d j&quot; &#39;(dired-jump :wk &quot;Dired jump to current&quot;)
</span><span>    &quot;d n&quot; &#39;(neotree-dir :wk &quot;Open directory in neotree&quot;)
</span><span>    &quot;d p&quot; &#39;(peep-dired :wk &quot;Peep-dired&quot;))
</span><span>
</span><span>  (dt/leader-keys
</span><span>    &quot;e&quot; &#39;(:ignore t :wk &quot;Eshell/Evaluate&quot;)    
</span><span>    &quot;e b&quot; &#39;(eval-buffer :wk &quot;Evaluate elisp in buffer&quot;)
</span><span>    &quot;e d&quot; &#39;(eval-defun :wk &quot;Evaluate defun containing or after point&quot;)
</span><span>    &quot;e e&quot; &#39;(eval-expression :wk &quot;Evaluate and elisp expression&quot;)
</span><span>    &quot;e h&quot; &#39;(counsel-esh-history :which-key &quot;Eshell history&quot;)
</span><span>    &quot;e l&quot; &#39;(eval-last-sexp :wk &quot;Evaluate elisp expression before point&quot;)
</span><span>    &quot;e r&quot; &#39;(eval-region :wk &quot;Evaluate elisp in region&quot;)
</span><span>    &quot;e R&quot; &#39;(eww-reload :which-key &quot;Reload current page in EWW&quot;)
</span><span>    &quot;e s&quot; &#39;(eshell :which-key &quot;Eshell&quot;)
</span><span>    &quot;e w&quot; &#39;(eww :which-key &quot;EWW emacs web wowser&quot;))
</span><span>
</span><span>  (dt/leader-keys
</span><span>    &quot;f&quot; &#39;(:ignore t :wk &quot;Files&quot;)    
</span><span>    &quot;f c&quot; &#39;((lambda () (interactive)
</span><span>              (find-file &quot;~/.config/emacs/config.org&quot;)) 
</span><span>            :wk &quot;Open emacs config.org&quot;)
</span><span>    &quot;f e&quot; &#39;((lambda () (interactive)
</span><span>              (dired &quot;~/.config/emacs/&quot;)) 
</span><span>            :wk &quot;Open user-emacs-directory in dired&quot;)
</span><span>    &quot;f d&quot; &#39;(find-grep-dired :wk &quot;Search for string in files in DIR&quot;)
</span><span>    &quot;f g&quot; &#39;(counsel-grep-or-swiper :wk &quot;Search for string current file&quot;)
</span><span>    &quot;f i&quot; &#39;((lambda () (interactive)
</span><span>              (find-file &quot;~/.config/emacs/init.el&quot;)) 
</span><span>            :wk &quot;Open emacs init.el&quot;)
</span><span>    &quot;f j&quot; &#39;(counsel-file-jump :wk &quot;Jump to a file below current directory&quot;)
</span><span>    &quot;f l&quot; &#39;(counsel-locate :wk &quot;Locate a file&quot;)
</span><span>    &quot;f r&quot; &#39;(counsel-recentf :wk &quot;Find recent files&quot;)
</span><span>    &quot;f u&quot; &#39;(sudo-edit-find-file :wk &quot;Sudo find file&quot;)
</span><span>    &quot;f U&quot; &#39;(sudo-edit :wk &quot;Sudo edit file&quot;))
</span><span>
</span><span>  (dt/leader-keys
</span><span>    &quot;g&quot; &#39;(:ignore t :wk &quot;Git&quot;)    
</span><span>    &quot;g /&quot; &#39;(magit-displatch :wk &quot;Magit dispatch&quot;)
</span><span>    &quot;g .&quot; &#39;(magit-file-displatch :wk &quot;Magit file dispatch&quot;)
</span><span>    &quot;g b&quot; &#39;(magit-branch-checkout :wk &quot;Switch branch&quot;)
</span><span>    &quot;g c&quot; &#39;(:ignore t :wk &quot;Create&quot;) 
</span><span>    &quot;g c b&quot; &#39;(magit-branch-and-checkout :wk &quot;Create branch and checkout&quot;)
</span><span>    &quot;g c c&quot; &#39;(magit-commit-create :wk &quot;Create commit&quot;)
</span><span>    &quot;g c f&quot; &#39;(magit-commit-fixup :wk &quot;Create fixup commit&quot;)
</span><span>    &quot;g C&quot; &#39;(magit-clone :wk &quot;Clone repo&quot;)
</span><span>    &quot;g f&quot; &#39;(:ignore t :wk &quot;Find&quot;) 
</span><span>    &quot;g f c&quot; &#39;(magit-show-commit :wk &quot;Show commit&quot;)
</span><span>    &quot;g f f&quot; &#39;(magit-find-file :wk &quot;Magit find file&quot;)
</span><span>    &quot;g f g&quot; &#39;(magit-find-git-config-file :wk &quot;Find gitconfig file&quot;)
</span><span>    &quot;g F&quot; &#39;(magit-fetch :wk &quot;Git fetch&quot;)
</span><span>    &quot;g g&quot; &#39;(magit-status :wk &quot;Magit status&quot;)
</span><span>    &quot;g i&quot; &#39;(magit-init :wk &quot;Initialize git repo&quot;)
</span><span>    &quot;g l&quot; &#39;(magit-log-buffer-file :wk &quot;Magit buffer log&quot;)
</span><span>    &quot;g r&quot; &#39;(vc-revert :wk &quot;Git revert file&quot;)
</span><span>    &quot;g s&quot; &#39;(magit-stage-file :wk &quot;Git stage file&quot;)
</span><span>    &quot;g t&quot; &#39;(git-timemachine :wk &quot;Git time machine&quot;)
</span><span>    &quot;g u&quot; &#39;(magit-stage-file :wk &quot;Git unstage file&quot;))
</span><span>
</span><span>  (dt/leader-keys
</span><span>    &quot;h&quot; &#39;(:ignore t :wk &quot;Help&quot;)
</span><span>    &quot;h a&quot; &#39;(counsel-apropos :wk &quot;Apropos&quot;)
</span><span>    &quot;h b&quot; &#39;(describe-bindings :wk &quot;Describe bindings&quot;)
</span><span>    &quot;h c&quot; &#39;(describe-char :wk &quot;Describe character under cursor&quot;)
</span><span>    &quot;h d&quot; &#39;(:ignore t :wk &quot;Emacs documentation&quot;)
</span><span>    &quot;h d a&quot; &#39;(about-emacs :wk &quot;About Emacs&quot;)
</span><span>    &quot;h d d&quot; &#39;(view-emacs-debugging :wk &quot;View Emacs debugging&quot;)
</span><span>    &quot;h d f&quot; &#39;(view-emacs-FAQ :wk &quot;View Emacs FAQ&quot;)
</span><span>    &quot;h d m&quot; &#39;(info-emacs-manual :wk &quot;The Emacs manual&quot;)
</span><span>    &quot;h d n&quot; &#39;(view-emacs-news :wk &quot;View Emacs news&quot;)
</span><span>    &quot;h d o&quot; &#39;(describe-distribution :wk &quot;How to obtain Emacs&quot;)
</span><span>    &quot;h d p&quot; &#39;(view-emacs-problems :wk &quot;View Emacs problems&quot;)
</span><span>    &quot;h d t&quot; &#39;(view-emacs-todo :wk &quot;View Emacs todo&quot;)
</span><span>    &quot;h d w&quot; &#39;(describe-no-warranty :wk &quot;Describe no warranty&quot;)
</span><span>    &quot;h e&quot; &#39;(view-echo-area-messages :wk &quot;View echo area messages&quot;)
</span><span>    &quot;h f&quot; &#39;(describe-function :wk &quot;Describe function&quot;)
</span><span>    &quot;h F&quot; &#39;(describe-face :wk &quot;Describe face&quot;)
</span><span>    &quot;h g&quot; &#39;(describe-gnu-project :wk &quot;Describe GNU Project&quot;)
</span><span>    &quot;h i&quot; &#39;(info :wk &quot;Info&quot;)
</span><span>    &quot;h I&quot; &#39;(describe-input-method :wk &quot;Describe input method&quot;)
</span><span>    &quot;h k&quot; &#39;(describe-key :wk &quot;Describe key&quot;)
</span><span>    &quot;h l&quot; &#39;(view-lossage :wk &quot;Display recent keystrokes and the commands run&quot;)
</span><span>    &quot;h L&quot; &#39;(describe-language-environment :wk &quot;Describe language environment&quot;)
</span><span>    &quot;h m&quot; &#39;(describe-mode :wk &quot;Describe mode&quot;)
</span><span>    &quot;h r&quot; &#39;(:ignore t :wk &quot;Reload&quot;)
</span><span>    &quot;h r r&quot; &#39;((lambda () (interactive)
</span><span>                (load-file &quot;~/.config/emacs/init.el&quot;)
</span><span>                (ignore (elpaca-process-queues)))
</span><span>              :wk &quot;Reload emacs config&quot;)
</span><span>    &quot;h t&quot; &#39;(load-theme :wk &quot;Load theme&quot;)
</span><span>    &quot;h v&quot; &#39;(describe-variable :wk &quot;Describe variable&quot;)
</span><span>    &quot;h w&quot; &#39;(where-is :wk &quot;Prints keybinding for command if set&quot;)
</span><span>    &quot;h x&quot; &#39;(describe-command :wk &quot;Display full documentation for command&quot;))
</span><span>
</span><span>  (dt/leader-keys
</span><span>    &quot;m&quot; &#39;(:ignore t :wk &quot;Org&quot;)
</span><span>    &quot;m a&quot; &#39;(org-agenda :wk &quot;Org agenda&quot;)
</span><span>    &quot;m e&quot; &#39;(org-export-dispatch :wk &quot;Org export dispatch&quot;)
</span><span>    &quot;m i&quot; &#39;(org-toggle-item :wk &quot;Org toggle item&quot;)
</span><span>    &quot;m t&quot; &#39;(org-todo :wk &quot;Org todo&quot;)
</span><span>    &quot;m B&quot; &#39;(org-babel-tangle :wk &quot;Org babel tangle&quot;)
</span><span>    &quot;m T&quot; &#39;(org-todo-list :wk &quot;Org todo list&quot;))
</span><span>
</span><span>  (dt/leader-keys
</span><span>    &quot;m b&quot; &#39;(:ignore t :wk &quot;Tables&quot;)
</span><span>    &quot;m b -&quot; &#39;(org-table-insert-hline :wk &quot;Insert hline in table&quot;))
</span><span>
</span><span>  (dt/leader-keys
</span><span>    &quot;m d&quot; &#39;(:ignore t :wk &quot;Date/deadline&quot;)
</span><span>    &quot;m d t&quot; &#39;(org-time-stamp :wk &quot;Org time stamp&quot;))
</span><span>
</span><span>  (dt/leader-keys
</span><span>    &quot;o&quot; &#39;(:ignore t :wk &quot;Open&quot;)
</span><span>    &quot;o d&quot; &#39;(dashboard-open :wk &quot;Dashboard&quot;)
</span><span>    &quot;o e&quot; &#39;(elfeed :wk &quot;Elfeed RSS&quot;)
</span><span>    &quot;o f&quot; &#39;(make-frame :wk &quot;Open buffer in new frame&quot;)
</span><span>    &quot;o F&quot; &#39;(select-frame-by-name :wk &quot;Select frame by name&quot;))
</span><span>
</span><span>  ;; projectile-command-map already has a ton of bindings 
</span><span>  ;; set for us, so no need to specify each individually.
</span><span>  (dt/leader-keys
</span><span>    &quot;p&quot; &#39;(:ignore t :wk &quot;Programing&quot;)
</span><span>    &quot;p c&quot; &#39;(compile :wk &quot;Compile&quot;)
</span><span>    &quot;p f&quot; &#39;(flutter-run-or-hot-reload :wk &quot;Flutter App Run&quot;))
</span><span>  (dt/leader-keys
</span><span>    &quot;s&quot; &#39;(:ignore t :wk &quot;Search&quot;)
</span><span>    &quot;s d&quot; &#39;(dictionary-search :wk &quot;Search dictionary&quot;)
</span><span>    &quot;s m&quot; &#39;(man :wk &quot;Man pages&quot;)
</span><span>    &quot;s t&quot; &#39;(tldr :wk &quot;Lookup TLDR docs for a command&quot;)
</span><span>    &quot;s w&quot; &#39;(woman :wk &quot;Similar to man but doesn&#39;t require man&quot;))
</span><span>
</span><span>  (dt/leader-keys
</span><span>    &quot;t&quot; &#39;(:ignore t :wk &quot;Toggle&quot;)
</span><span>    &quot;t e&quot; &#39;(eshell-toggle :wk &quot;Toggle eshell&quot;)
</span><span>    &quot;t f&quot; &#39;(flycheck-mode :wk &quot;Toggle flycheck&quot;)
</span><span>    &quot;t l&quot; &#39;(display-line-numbers-mode :wk &quot;Toggle line numbers&quot;)
</span><span>    &quot;t n&quot; &#39;(neotree-toggle :wk &quot;Toggle neotree file viewer&quot;)
</span><span>    &quot;t o&quot; &#39;(org-mode :wk &quot;Toggle org mode&quot;)
</span><span>    &quot;t r&quot; &#39;(rainbow-mode :wk &quot;Toggle rainbow mode&quot;)
</span><span>    &quot;t t&quot; &#39;(visual-line-mode :wk &quot;Toggle truncated lines&quot;)
</span><span>    &quot;t d&quot; &#39;(counsel-linux-app :wk &quot;Open application&quot;)
</span><span>    &quot;t v&quot; &#39;(vterm-toggle :wk &quot;Toggle vterm&quot;))
</span><span>
</span><span>  (dt/leader-keys
</span><span>    &quot;w&quot; &#39;(:ignore t :wk &quot;Windows&quot;)
</span><span>    ;; Window splits
</span><span>    &quot;w c&quot; &#39;(evil-window-delete :wk &quot;Close window&quot;)
</span><span>    &quot;w n&quot; &#39;(evil-window-new :wk &quot;New window&quot;)
</span><span>    &quot;w s&quot; &#39;(evil-window-split :wk &quot;Horizontal split window&quot;)
</span><span>    &quot;w v&quot; &#39;(evil-window-vsplit :wk &quot;Vertical split window&quot;)
</span><span>    ;; Window motions
</span><span>    &quot;w h&quot; &#39;(evil-window-left :wk &quot;Window left&quot;)
</span><span>    &quot;w j&quot; &#39;(evil-window-down :wk &quot;Window down&quot;)
</span><span>    &quot;w k&quot; &#39;(evil-window-up :wk &quot;Window up&quot;)
</span><span>    &quot;w l&quot; &#39;(evil-window-right :wk &quot;Window right&quot;)
</span><span>    &quot;w w&quot; &#39;(evil-window-next :wk &quot;Goto next window&quot;)
</span><span>    ;; Move Windows
</span><span>    &quot;w H&quot; &#39;(buf-move-left :wk &quot;Buffer move left&quot;)
</span><span>    &quot;w J&quot; &#39;(buf-move-down :wk &quot;Buffer move down&quot;)
</span><span>    &quot;w K&quot; &#39;(buf-move-up :wk &quot;Buffer move up&quot;)
</span><span>    &quot;w L&quot; &#39;(buf-move-right :wk &quot;Buffer move right&quot;))
</span><span>  )
</span></code></pre>
<h2 id="sudo-edit">SUDO EDIT</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(use-package sudo-edit
</span><span>  :ensure t
</span><span>  :config
</span><span>    (dt/leader-keys
</span><span>      &quot;fu&quot; &#39;(sudo-edit-find-file :wk &quot;Sudo find file&quot;)
</span><span>      &quot;fU&quot; &#39;(sudo-edit :wk &quot;Sudo edit file&quot;)))
</span></code></pre>
<h2 id="emacs-keybinding">EMACS KEYBINDING</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>;; Bookmarks and Buffers keybindings
</span><span>(define-key global-map (kbd &quot;M-b&quot;) nil)  ;; Start defining a prefix for M-b
</span><span>;;(define-key global-map (kbd &quot;M-b b&quot;) &#39;switch-to-buffer)
</span><span>(define-key global-map (kbd &quot;M-b i&quot;) &#39;exwm-workspace-switch-to-buffer) ;; Uncomment if needed
</span><span>(define-key global-map (kbd &quot;M-b w&quot;) &#39;exwm-workspace-switch)
</span><span>(define-key global-map (kbd &quot;M-b c&quot;) &#39;clone-indirect-buffer)
</span><span>(define-key global-map (kbd &quot;M-b C&quot;) &#39;clone-indirect-buffer-other-window)
</span><span>(define-key global-map (kbd &quot;M-b d&quot;) &#39;bookmark-delete)
</span><span>;;(define-key global-map (kbd &quot;M-b i&quot;) &#39;ibuffer)
</span><span>(define-key global-map (kbd &quot;M-b k&quot;) &#39;kill-buffer-and-window)
</span><span>(define-key global-map (kbd &quot;M-b K&quot;) &#39;kill-some-buffers)
</span><span>(define-key global-map (kbd &quot;M-b l&quot;) &#39;list-bookmarks)
</span><span>(define-key global-map (kbd &quot;M-b m&quot;) &#39;bookmark-set)
</span><span>(define-key global-map (kbd &quot;M-b n&quot;) &#39;next-buffer)
</span><span>(define-key global-map (kbd &quot;M-b p&quot;) &#39;previous-buffer)
</span><span>(define-key global-map (kbd &quot;M-b r&quot;) &#39;revert-buffer)
</span><span>(define-key global-map (kbd &quot;M-b R&quot;) &#39;rename-buffer)
</span><span>(define-key global-map (kbd &quot;M-b s&quot;) &#39;basic-save-buffer)
</span><span>(define-key global-map (kbd &quot;M-b S&quot;) &#39;save-some-buffers)
</span><span>
</span><span>;; Define M-w as a prefix key for WINDOWS
</span><span>(define-key global-map (kbd &quot;M-w&quot;) nil)  ;; Start defining a prefix for s-w
</span><span>;; Window management keybindings
</span><span>(define-key global-map (kbd &quot;M-w c&quot;) &#39;evil-window-delete)
</span><span>(define-key global-map (kbd &quot;M-w n&quot;) &#39;evil-window-new)
</span><span>(define-key global-map (kbd &quot;M-w s&quot;) &#39;evil-window-split)
</span><span>(define-key global-map (kbd &quot;M-w v&quot;) &#39;evil-window-vsplit)
</span><span>
</span><span>;; Window motions
</span><span>(define-key global-map (kbd &quot;M-w h&quot;) &#39;evil-window-left)
</span><span>(define-key global-map (kbd &quot;M-w j&quot;) &#39;evil-window-down)
</span><span>(define-key global-map (kbd &quot;M-w k&quot;) &#39;evil-window-up)
</span><span>(define-key global-map (kbd &quot;M-w l&quot;) &#39;evil-window-right)
</span><span>(define-key global-map (kbd &quot;M-w w&quot;) &#39;evil-window-next)
</span><span>(define-key global-map (kbd &quot;M-w m&quot;) &#39;save-buffers-kill-emacs)
</span><span>;; Move windows
</span><span>(define-key global-map (kbd &quot;M-w H&quot;) &#39;buf-move-left)
</span><span>(define-key global-map (kbd &quot;M-w J&quot;) &#39;buf-move-down)
</span><span>(define-key global-map (kbd &quot;M-w K&quot;) &#39;buf-move-up)
</span><span>(define-key global-map (kbd &quot;M-w L&quot;) &#39;buf-move-right)
</span><span>
</span><span>;; Define M-d as a prefix key in global-map
</span><span>(define-key global-map (kbd &quot;M-d&quot;) nil)
</span><span>
</span><span>;; Dired keybindings under M-d
</span><span>;; (define-key global-map (kbd &quot;M-d D&quot;) &#39;dired) ;; Open Dired
</span><span>(define-key global-map (kbd &quot;M-d D&quot;) &#39;counsel-linux-app) ;; Open Dired
</span><span>(define-key global-map (kbd &quot;M-d d&quot;) &#39;app-launcher-run-app) 
</span><span>(define-key global-map (kbd &quot;M-d j&quot;) &#39;dired-jump) ;; Jump to current directory in Dired
</span><span>(define-key global-map (kbd &quot;M-d n&quot;) &#39;neotree-dir) ;; Open directory in Neotree
</span><span>(define-key global-map (kbd &quot;M-d p&quot;) &#39;peep-dired) ;; Peep Dired preview
</span><span>(define-key global-map (kbd &quot;M-d x&quot;) &#39;kill-emacs) ;; Kill emacs
</span><span>
</span><span>
</span><span>(define-key global-map (kbd &quot;M-m&quot;) nil)
</span><span>
</span><span>(define-key global-map (kbd &quot;M-m m&quot;) #&#39;ORG-TO-MD-CONVERT)
</span><span>(define-key global-map (kbd &quot;M-m l&quot;) #&#39;Lock-screen)
</span><span>(define-key global-map (kbd &quot;M-m L&quot;) #&#39;Update-lockscreen-bg)
</span><span>(define-key global-map (kbd &quot;M-m s&quot;) #&#39;Update-sddm-wallpaper)
</span></code></pre>
<h2 id="which-key">WHICH KEY</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(use-package which-key
</span><span>:ensure t
</span><span>:init
</span><span>  (which-key-mode 1)
</span><span>:config
</span><span>(setq which-key-side-window-location &#39;bottom
</span><span>        which-key-sort-order #&#39;which-key-key-order-alpha
</span><span>        which-key-sort-uppercase-first nil
</span><span>        which-key-add-column-padding 1
</span><span>        which-key-max-display-columns nil
</span><span>        which-key-min-display-lines 6
</span><span>        which-key-side-window-slot -10
</span><span>        which-key-side-window-max-height 0.25
</span><span>        which-key-idle-delay 0.8
</span><span>        which-key-max-description-length 25
</span><span>        which-key-allow-imprecise-window-fit nil
</span><span>        which-key-separator &quot; → &quot; ))
</span></code></pre>
<h2 id="blank-buffer">BLANK BUFFER</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>;; create a completely blank buffer
</span><span>(defun my/blank-buffer ()
</span><span>  &quot;create a new completely blank buffer with no ui elements.&quot;
</span><span>  (interactive)
</span><span>  (let ((buf (get-buffer-create &quot;*blank*&quot;))) ;; get or create (prevent duplicate)
</span><span>    (switch-to-buffer buf)
</span><span>    (fundamental-mode)
</span><span>    (setq-local mode-line-format nil)
</span><span>    (setq-local header-line-format nil)
</span><span>    (setq-local cursor-type nil) ;; use nil instead of -1
</span><span>    (setq-local display-line-numbers-mode -1)
</span><span>    (buffer-disable-undo)
</span><span>    (read-only-mode -1)
</span><span>    (blink-cursor-mode 0)
</span><span>    ;; Hide fringes
</span><span>    (set-window-fringes (get-buffer-window buf) 0 0)
</span><span>    ;; Clear message area
</span><span>    (message nil)))
</span></code></pre>
<h2 id="transperency">TRANSPERENCY</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>;; START picom for transparency
</span><span>(start-process &quot;picom&quot; nil &quot;picom&quot;)
</span><span>
</span><span>;;; TRANSPARENCY LOGIC BASED ON BUFFER NAME
</span><span>(defun my/update-transparency-based-on-buffer ()
</span><span>  &quot;Set transparency to 0 if in *blank*, else back to default.&quot;
</span><span>  (if (string= (buffer-name) &quot;*blank*&quot;)
</span><span>      ;; If it&#39;s blank buffer: fully transparent
</span><span>      (progn
</span><span>        (set-frame-parameter (selected-frame) &#39;alpha-background 0)
</span><span>        (set-frame-parameter (selected-frame) &#39;alpha &#39;(0 . 0)))
</span><span>    ;; For all other buffers: semi-transparent
</span><span>    (progn
</span><span>      (set-frame-parameter (selected-frame) &#39;alpha-background 90)
</span><span>      (set-frame-parameter (selected-frame) &#39;alpha &#39;(90 . 90)))))
</span><span>
</span><span>;; Update transparency whenever buffer changes
</span><span>(add-hook &#39;buffer-list-update-hook #&#39;my/update-transparency-based-on-buffer)
</span></code></pre>
<h2 id="transperency-for-exwm-workspace">TRANSPERENCY FOR EXWM WORKSPACE</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>;;; ONLY OPEN *blank* ON STARTUP IF EXWM WORKSPACE 0
</span><span>(defun my/blank-buffer-in-first-workspace-only ()
</span><span>  &quot;Open blank buffer only in EXWM workspace 0.&quot;
</span><span>  (when (and (featurep &#39;exwm)
</span><span>             (eq exwm-workspace-current-index 0)
</span><span>             (not (get-buffer &quot;*blank*&quot;))) ;; only if it doesn&#39;t exist yet
</span><span>    (my/blank-buffer)))
</span><span>
</span><span>(add-hook &#39;emacs-startup-hook #&#39;my/blank-buffer-in-first-workspace-only)
</span><span>
</span><span>
</span><span>;;; WHEN SWITCHING EXWM WORKSPACES, SHOW *blank* IF NOTHING ELSE
</span><span>(defun my/show-blank-if-no-buffer ()
</span><span>  &quot;Show *blank* buffer if current buffer is *scratch* or unnamed.&quot;
</span><span>  (let ((curr (buffer-name)))
</span><span>    (when (or (string= curr &quot;*scratch*&quot;)
</span><span>              (string= curr &quot;&quot;)
</span><span>              (string-match-p &quot;^\\*.*\\*$&quot; curr)) ;; if it&#39;s just *Messages*, *Help*, etc.
</span><span>      (unless (get-buffer &quot;*blank*&quot;)
</span><span>        (my/blank-buffer))
</span><span>      (switch-to-buffer &quot;*blank*&quot;))))
</span><span>
</span><span>(add-hook &#39;exwm-workspace-switch-hook #&#39;my/show-blank-if-no-buffer)
</span></code></pre>
<h2 id="mouse-battery-and-background-setup">MOUSE, BATTERY AND BACKGROUND SETUP</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(setq mouse-autoselect-window t
</span><span>      focus-follows-mouse t)
</span><span>
</span><span>(display-time-mode 1)
</span><span>(setq display-time-format &quot;%H:%M:%S&quot;)
</span><span>(display-battery-mode 1)
</span><span>
</span><span>(add-hook &#39;exwm-init-hook
</span><span>          (lambda ()
</span><span>            (run-at-time &quot;1 sec&quot; nil (lambda ()
</span><span>              (start-process &quot;nitrogen&quot; nil &quot;nitrogen&quot; &quot;--restore&quot;)))
</span><span>            (run-at-time &quot;3 sec&quot; nil (lambda ()
</span><span>              (start-process &quot;nm-applet&quot; nil &quot;nm-applet&quot;)))
</span><span>            (run-at-time &quot;3 sec&quot; nil (lambda ()
</span><span>              (start-process &quot;flameshot&quot; nil &quot;flameshot&quot;)))))
</span></code></pre>
<h2 id="ide">IDE</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>;; ========== Neotree Mode ==========
</span><span>(use-package neotree
</span><span>  :ensure t)
</span><span>;; ========== Company Mode ==========
</span><span>(use-package company
</span><span>  :ensure t
</span><span>  :diminish
</span><span>  :hook (prog-mode . company-mode)
</span><span>  :bind (:map company-active-map
</span><span>              (&quot;&lt;tab&gt;&quot; . company-complete-selection))
</span><span>  :init (global-company-mode)
</span><span>  :custom
</span><span>  (company-minimum-prefix-length 2)
</span><span>  (company-idle-delay 0.0)
</span><span>  (company-show-numbers t)
</span><span>  (company-tooltip-align-annotations t))
</span><span>
</span><span>;; ========== Flycheck Mode ==========
</span><span>(use-package flycheck
</span><span>  :ensure t
</span><span>  :defer t
</span><span>  :diminish
</span><span>  :init (global-flycheck-mode))
</span><span>
</span><span>;; ========== LSP Mode ==========
</span><span>(use-package lsp-mode
</span><span>  :ensure t
</span><span>  :commands lsp
</span><span>  :hook ((python-mode . lsp)
</span><span>         (dart-mode . lsp)
</span><span>         (c-mode . lsp)
</span><span>         (c++-mode . lsp)
</span><span>         (js-mode . lsp)
</span><span>         (typescript-mode . lsp)
</span><span>         (go-mode . lsp)
</span><span>         (rust-mode . lsp))
</span><span>  :custom
</span><span>  (lsp-pyright-typechecking-mode &quot;basic&quot;)
</span><span>  (lsp-enable-symbol-highlighting t)
</span><span>  (lsp-prefer-flymake nil))
</span></code></pre>
<h2 id="language-support-for-ide">LANGUAGE SUPPORT FOR IDE</h2>
<h3 id="python">PYTHON</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(use-package python-mode
</span><span>  :hook (python-mode . lsp)
</span><span>  :custom
</span><span>  (python-shell-interpreter &quot;python3&quot;))
</span><span>
</span><span>(use-package lsp-pyright
</span><span>  :ensure t
</span><span>  :after lsp-mode
</span><span>  :hook (python-mode . (lambda ()
</span><span>                         (require &#39;lsp-pyright)
</span><span>                         (lsp))))
</span></code></pre>
<h3 id="dart-mode">DART MODE</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>;; Dart + Flutter setup
</span><span>(use-package dart-mode
</span><span>  :ensure t
</span><span>  :hook (dart-mode . lsp)
</span><span>  :custom
</span><span>  (dart-format-on-save t))
</span><span>
</span><span>(use-package lsp-dart
</span><span>  :ensure t
</span><span>  :after dart-mode
</span><span>  :hook (dart-mode . lsp)
</span><span>  :custom
</span><span>  (lsp-dart-flutter-widget-guides t)
</span><span>  (lsp-dart-sdk-dir &quot;/home/aresr/flutter/bin/cache/dart-sdk/&quot;)
</span><span>  (lsp-dart-flutter-sdk-dir &quot;/home/aresr/flutter/&quot;))
</span><span>(use-package flutter
</span><span>  :ensure t
</span><span>  :after dart-mode
</span><span>  :custom
</span><span>  (flutter-sdk-path &quot;/home/aresr/flutter&quot;) ;; change this to your flutter path
</span><span>  :bind (:map dart-mode-map
</span><span>              (&quot;C-M-x&quot; . flutter-run-or-hot-reload)))
</span></code></pre>
<h2 id="dashboard">DASHBOARD</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(use-package dashboard
</span><span>  :ensure t
</span><span>  :init
</span><span>  ;; (setq initial-buffer-choice &#39;dashboard-open)
</span><span>  (setq dashboard-set-heading-icons t)
</span><span>  (setq dashboard-set-file-icons t)
</span><span>  (setq dashboard-banner-logo-title &quot;NOTHING IS HERE&quot;)
</span><span>  ;;(setq dashboard-startup-banner &#39;logo) ;; use standard emacs logo as banner
</span><span>  (setq dashboard-startup-banner &quot;/home/nothing/Pictures/555.png&quot;))  ;; use custom image as banner
</span><span>;;   (setq dashboard-center-content nil) ;; set to &#39;t&#39; for centered content
</span><span>;;   (setq dashboard-items &#39;((recents . 5)
</span><span>;;                           (agenda . 5 )
</span><span>;;                           (bookmarks . 3)
</span><span>;;                           (projects . 3)
</span><span>;;                           (registers . 3)))
</span><span>;; :custom
</span><span>;; (dashboard-modify-heading-icons &#39;((recents . &quot;file-text&quot;)
</span><span>;;                                   (bookmarks . &quot;book&quot;)))
</span><span>;; :config
</span><span>;; (dashboard-setup-startup-hook))
</span></code></pre>
<h2 id="dired">DIRED</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(use-package dired-open
</span><span>  :ensure t
</span><span>  :config
</span><span>  (setq dired-open-extensions &#39;((&quot;gif&quot; . &quot;loupe&quot;)
</span><span>                                (&quot;jpg&quot; . &quot;loupe&quot;)
</span><span>                                (&quot;jpeg&quot; . &quot;loupe&quot;)
</span><span>                                (&quot;pdf&quot; . &quot;okular&quot;)
</span><span>                                (&quot;png&quot; . &quot;loupe&quot;)
</span><span>                                (&quot;mkv&quot; . &quot;vlc&quot;)
</span><span>                                (&quot;mp4&quot; . &quot;vlc&quot;))))
</span><span>
</span><span>(use-package peep-dired
</span><span>  :ensure t
</span><span>  :after dired
</span><span>  :hook (evil-normalize-keymaps . peep-dired-hook)
</span><span>  :config
</span><span>    (evil-define-key &#39;normal dired-mode-map (kbd &quot;h&quot;) &#39;dired-up-directory)
</span><span>    (evil-define-key &#39;normal dired-mode-map (kbd &quot;l&quot;) &#39;dired-open-file) ; use dired-find-file instead if not using dired-open package
</span><span>    (evil-define-key &#39;normal peep-dired-mode-map (kbd &quot;j&quot;) &#39;peep-dired-next-file)
</span><span>    (evil-define-key &#39;normal peep-dired-mode-map (kbd &quot;k&quot;) &#39;peep-dired-prev-file)
</span><span>)
</span><span>
</span><span>(setq dired-listing-switches &quot;-lha&quot;)
</span></code></pre>
<h2 id="backups">BACKUPS</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(setq backup-directory-alist &#39;((&quot;.*&quot; . &quot;~/.local/share/Trash/files&quot;)))
</span></code></pre>
<h2 id="buffer-move">BUFFER MOVE</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(require &#39;windmove)
</span><span>
</span><span>;;;###autoload
</span><span>(defun buf-move-up ()
</span><span>  &quot;Swap the current buffer and the buffer above the split.
</span><span>If there is no split, ie now window above the current one, an
</span><span>error is signaled.&quot;
</span><span>;;  &quot;Switches between the current buffer, and the buffer above the
</span><span>;;  split, if possible.&quot;
</span><span>  (interactive)
</span><span>  (let* ((other-win (windmove-find-other-window &#39;up))
</span><span>         (buf-this-buf (window-buffer (selected-window))))
</span><span>    (if (null other-win)
</span><span>        (error &quot;No window above this one&quot;)
</span><span>      ;; swap top with this one
</span><span>      (set-window-buffer (selected-window) (window-buffer other-win))
</span><span>      ;; move this one to top
</span><span>      (set-window-buffer other-win buf-this-buf)
</span><span>      (select-window other-win))))
</span><span>
</span><span>;;;###autoload
</span><span>(defun buf-move-down ()
</span><span>&quot;Swap the current buffer and the buffer under the split.
</span><span>If there is no split, ie now window under the current one, an
</span><span>error is signaled.&quot;
</span><span>  (interactive)
</span><span>  (let* ((other-win (windmove-find-other-window &#39;down))
</span><span>         (buf-this-buf (window-buffer (selected-window))))
</span><span>    (if (or (null other-win) 
</span><span>            (string-match &quot;^ \\*Minibuf&quot; (buffer-name (window-buffer other-win))))
</span><span>        (error &quot;No window under this one&quot;)
</span><span>      ;; swap top with this one
</span><span>      (set-window-buffer (selected-window) (window-buffer other-win))
</span><span>      ;; move this one to top
</span><span>      (set-window-buffer other-win buf-this-buf)
</span><span>      (select-window other-win))))
</span><span>
</span><span>;;;###autoload
</span><span>(defun buf-move-left ()
</span><span>&quot;Swap the current buffer and the buffer on the left of the split.
</span><span>If there is no split, ie now window on the left of the current
</span><span>one, an error is signaled.&quot;
</span><span>  (interactive)
</span><span>  (let* ((other-win (windmove-find-other-window &#39;left))
</span><span>         (buf-this-buf (window-buffer (selected-window))))
</span><span>    (if (null other-win)
</span><span>        (error &quot;No left split&quot;)
</span><span>      ;; swap top with this one
</span><span>      (set-window-buffer (selected-window) (window-buffer other-win))
</span><span>      ;; move this one to top
</span><span>      (set-window-buffer other-win buf-this-buf)
</span><span>      (select-window other-win))))
</span><span>
</span><span>;;;###autoload
</span><span>(defun buf-move-right ()
</span><span>&quot;Swap the current buffer and the buffer on the right of the split.
</span><span>If there is no split, ie now window on the right of the current
</span><span>one, an error is signaled.&quot;
</span><span>  (interactive)
</span><span>  (let* ((other-win (windmove-find-other-window &#39;right))
</span><span>         (buf-this-buf (window-buffer (selected-window))))
</span><span>    (if (null other-win)
</span><span>        (error &quot;No right split&quot;)
</span><span>      ;; swap top with this one
</span><span>      (set-window-buffer (selected-window) (window-buffer other-win))
</span><span>      ;; move this one to top
</span><span>      (set-window-buffer other-win buf-this-buf)
</span><span>      (select-window other-win))))
</span></code></pre>
<h1 id="setting-up-exwm">SETTING UP EXWM</h1>
<h2 id="exwm">EXWM</h2>
<h3 id="exwm-main">EXWM MAIN</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(require &#39;exwm)
</span><span>;; Set the initial workspace number.
</span><span>(setq exwm-workspace-number 10)
</span><span>;;/ Make class name the buffer name.
</span><span>(add-hook &#39;exwm-update-class-hook
</span><span>          (lambda () (exwm-workspace-rename-buffer exwm-class-name)))
</span><span>(add-hook &#39;exwm-init-hook
</span><span>          (lambda ()
</span><span>            (exwm-workspace-switch 1)))  ;; Auto switch to workspace 1
</span><span>;; Global keybindings.
</span><span>(setq exwm-input-global-keys
</span><span>      `(([?\M-r] . exwm-reset) ;; s-r: Reset (to line-mode).
</span><span>        ([?\M-n] . exwm-workspace-switch) ;; s-w: Switch workspace.
</span><span>        ([?\M-k] . kill-buffer-and-window)
</span><span>        ([?\M-&amp;] . (lambda (cmd) ;; s-&amp;: Launch application.
</span><span>                     (interactive (list (read-shell-command &quot;$ &quot;)))
</span><span>                     (start-process-shell-command cmd nil cmd)))
</span><span>        ;; s-N: Switch to certain workspace.
</span><span>        ,@(mapcar (lambda (i)
</span><span>                    `(,(kbd (format &quot;M-%d&quot; i)) .
</span><span>                      (lambda ()
</span><span>                        (interactive)
</span><span>                        (exwm-workspace-switch-create ,i))))
</span><span>                  (number-sequence 0 9))))
</span><span>
</span><span>
</span><span>;; For copy like normal keybinding C-c
</span><span>(define-key exwm-mode-map [?\C-q] &#39;exwm-input-send-next-key)
</span><span>
</span><span>;; Enable EXWM
</span><span>(exwm-enable)
</span><span>()
</span><span>(add-hook &#39;exwm-manage-finish-hook
</span><span>          (lambda ()
</span><span>            (when (and exwm-class-name
</span><span>                       (string= exwm-class-name &quot;Firefox&quot;))
</span><span>              (exwm-input-set-local-simulation-keys nil))))
</span><span>(require &#39;exwm-systemtray)
</span><span>(exwm-systemtray-mode 1)
</span><span>(require &#39;exwm-randr)
</span><span>(exwm-randr-mode 1)
</span></code></pre>
<h3 id="exwm-display">EXWM DISPLAY</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(setq X11_SCREEN_LIST &#39;(&quot;eDP-1&quot; &quot;DP-3&quot;))
</span><span>
</span><span>;; xrandr --mode for each screen in X11_SCREEN_LIST
</span><span>(setq X11_SCREEN_MODE_LIST &#39;(&quot;1680x1050&quot; &quot;3840x1600&quot;))
</span><span>
</span><span>;; xrandr --rate for each screen in X11_SCREEN_LIST
</span><span>(setq X11_SCREEN_RATE_LIST &#39;(&quot;59.95&quot; &quot;59.99&quot;))
</span><span>
</span><span>;; How screens are arranged from left to right. Vertical order, and &quot;--same-as&quot; not yet implemented.
</span><span>(setq X11_SCREEN_ORDER_LIST &#39;(&quot;DP-3&quot; &quot;eDP-1&quot;))
</span><span>
</span><span>;; X11 screens (graphics outputs) that should always be explicitly turned off, if available.
</span><span>(setq X11_SCREEN_DISABLED_LIST &#39;(&quot;DP-2&quot;))
</span><span>
</span><span>;; Primary X11 screen, if available
</span><span>(setq X11_SCREEN_PREFERRED &quot;DP-3&quot;)
</span><span>;; (setq X11_SCREEN_PREFERRED &quot;eDP-1&quot;)
</span><span>
</span><span>;; If X11_SCREEN_USE_ALL_AVAILABLE=&quot;yes&quot; then use all available screens in X11_SCREEN_LIST:
</span><span>;; - X11_SCREEN_PREFERRED is primary, if available
</span><span>;; - If X11_SCREEN_PREFERRED is unavailable, primary is first available screen in X11_SCREEN_LIST.
</span><span>;; Otherwise use only one:
</span><span>;; - X11_SCREEN_PREFERRED if available
</span><span>;; - If X11_SCREEN_PREFERRED is unavailable then use first available screen in X11_SCREEN_LIST.
</span><span>(setq X11_SCREEN_USE_ALL_AVAILABLE t)
</span><span>;; (setq X11_SCREEN_USE_ALL_AVAILABLE nil)
</span><span>
</span><span>;; Argument value for &quot;xrandr --dpi&quot;, i.e. Dots Per Inch. This is for the X11 DISPLAY, i.e. used for all screens.
</span><span>(setq X11_DISPLAY_DPI 106)
</span><span>
</span><span>;; List of pairs &quot;workspace-number screen&quot;
</span><span>;; Used to construct exwm-randr-workspace-monitor-plist in emacs.
</span><span>;; If a screen in this list is unavailable, the workspace will be mapped to the primary screen.
</span><span>(setq EXWM_WORKSPACE_LIST &#39;((1 . &quot;eDP-1&quot;) (3 . &quot;eDP-1&quot;)))
</span><span>;; (setq EXWM_WORKSPACE_LIST &#39;((1 . &quot;DP-3&quot;) (3 . &quot;DP-3&quot;)))
</span></code></pre>
<h3 id="exwm-font-settings">EXWM FONT SETTINGS</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(defun my/apply-font-settings (frame)
</span><span>  (with-selected-frame frame
</span><span>    (set-face-attribute &#39;default nil :font &quot;JetBrains Mono&quot; :height 160  :weight &#39;medium)))
</span><span>    ;; (set-face-attribute &#39;variable-pitch nil :font &quot;Ubuntu&quot; :height 100 :weight &#39;medium)
</span><span>    ;; (set-face-attribute &#39;fixed-pitch nil :font &quot;JetBrains Mono&quot; :height 100 :weight &#39;medium)
</span><span>    ;; (set-face-attribute &#39;font-lock-comment-face nil :slant &#39;italic)
</span><span>    ;; (set-face-attribute &#39;font-lock-keyword-face nil :slant &#39;italic)
</span><span>    ;; (setq-default line-spacing 0.12)))
</span><span>(add-hook &#39;after-make-frame-functions #&#39;my/apply-font-settings)
</span></code></pre>
<h3 id="exwm-extra-setting">EXWM EXTRA SETTING</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(add-to-list &#39;default-frame-alist &#39;(fullscreen . maximized))
</span><span>(setq exwm-workspace-show-all-buffers t)
</span><span>(setq exwm-workspace-warp-cursor t)
</span><span>
</span><span>;;TOUCHPAD SETTINGS 
</span><span>(start-process-shell-command &quot;touchpad-fix&quot; nil &quot;~/.config/emacs/scripts/exwm-touchpad-fix.sh&quot;)
</span></code></pre>
<h3 id="app-luncher">APP LUNCHER</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(add-to-list &#39;load-path &quot;~/.config/emacs/scripts/&quot;)
</span><span>(require &#39;app-launcher)
</span></code></pre>
<h3 id="exwm-power-menu">EXWM POWER-MENU</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(defun my/power-menu ()
</span><span>  &quot;Launch the graphical power menu.&quot;
</span><span>  (interactive)
</span><span>  (start-process-shell-command &quot;wlogout&quot; nil &quot;wlogout&quot;))
</span><span>
</span><span>;; ====== KEYBINDING =====
</span><span>(global-set-key (kbd &quot;M-p&quot;) #&#39;my/power-menu) ;; FOR EMACS
</span><span>(define-key exwm-mode-map [?\M-p] #&#39;my/power-menu) ;; FOR EXWM
</span></code></pre>
<h3 id="exwm-screen-lock">EXWM SCREEN LOCK</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(defun my/lock-screen ()
</span><span>  &quot;Lock the screen using i3lock.&quot;
</span><span>  (interactive)
</span><span>  (start-process &quot;betterlockscreen&quot; nil &quot;betterlockscreen&quot; &quot;--lock&quot;))
</span><span>
</span><span>(defun my/update-lockscreen-background ()
</span><span>  &quot;Update betterlockscreen background using the external script and notify via dunst.&quot;
</span><span>  (interactive)
</span><span>  (let* ((proc-name &quot;update-lockscreen-bg&quot;)
</span><span>         (script-path &quot;~/.config/emacs/scripts/betterlockscreen-wallpaper-update.sh&quot;)
</span><span>         (proc (start-process-shell-command
</span><span>                proc-name
</span><span>                &quot;*betterlockscreen-output*&quot;
</span><span>                (concat &quot;bash &quot; script-path))))
</span><span>    ;; Notify when the update starts
</span><span>    (start-process-shell-command &quot;notify-start&quot; nil
</span><span>                                  &quot;notify-send &#39;Betterlockscreen&#39; &#39;🔄 Updating lockscreen background...&#39; -u low&quot;)
</span><span>
</span><span>    ;; Notify when the update finishes
</span><span>    (set-process-sentinel
</span><span>     proc
</span><span>     (lambda (_process event)
</span><span>       (when (string= event &quot;finished\n&quot;)
</span><span>         (start-process-shell-command &quot;notify-end&quot; nil
</span><span>                                      &quot;notify-send &#39;Betterlockscreen&#39; &#39;✅ Background update complete!&#39; -u normal&quot;))))))
</span><span>
</span><span>
</span><span>;; ====== KEYBINDING =====
</span><span>(global-set-key (kbd &quot;M-l&quot;) #&#39;my/lock-screen) ;; FOR EMACS
</span><span>(define-key exwm-mode-map [?\M-l] #&#39;my/lock-screen) ;; FOR EXWM
</span></code></pre>
<h2 id="exwem-notification">EXWEM NOTIFICATION</h2>
<h3 id="starting-dunst">STARTING DUNST</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(start-process &quot;dunst&quot; nil &quot;dunst&quot;) ;; Starting Wireless conncetion 
</span></code></pre>
<h3 id="volume-control">VOLUME CONTROL</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(defun volume-increase ()
</span><span>  (interactive)
</span><span>  (start-process-shell-command &quot;volume up&quot; nil
</span><span>   &quot;pactl set-sink-volume @DEFAULT_SINK@ +5% &amp;&amp; notify-send &#39;Volume ↑&#39; \&quot;$(pactl get-sink-volume @DEFAULT_SINK@ | grep -oP &#39;\\d+%&#39; | head -1)\&quot;&quot;))
</span><span>
</span><span>(defun volume-decrease ()
</span><span>  (interactive)
</span><span>  (start-process-shell-command &quot;volume down&quot; nil
</span><span>   &quot;pactl set-sink-volume @DEFAULT_SINK@ -5% &amp;&amp; notify-send &#39;Volume ↓&#39; \&quot;$(pactl get-sink-volume @DEFAULT_SINK@ | grep -oP &#39;\\d+%&#39; | head -1)\&quot;&quot;))
</span><span>
</span><span>(defun volume-mute-toggle ()
</span><span>  (interactive)
</span><span>  (start-process-shell-command &quot;volume mute&quot; nil
</span><span>   &quot;pactl set-sink-mute @DEFAULT_SINK@ toggle &amp;&amp; notify-send &#39;Mute Toggled&#39;&quot;))
</span><span>
</span><span>;; ====== KEYBINDING FOR EMACS =====
</span><span>(global-set-key (kbd &quot;&lt;XF86AudioRaiseVolume&gt;&quot;) &#39;volume-increase)
</span><span>(global-set-key (kbd &quot;&lt;XF86AudioLowerVolume&gt;&quot;) &#39;volume-decrease)
</span><span>(global-set-key (kbd &quot;&lt;XF86AudioMute&gt;&quot;) &#39;volume-mute-toggle)
</span><span>
</span><span>;; ====== KEYBINDING FOR EXWM =====
</span><span>(define-key exwm-mode-map(kbd &quot;&lt;XF86AudioRaiseVolume&gt;&quot;) &#39;volume-increase)
</span><span>(define-key exwm-mode-map(kbd &quot;&lt;XF86AudioLowerVolume&gt;&quot;) &#39;volume-decrease)
</span><span>(define-key exwm-mode-map(kbd &quot;&lt;XF86AudioMute&gt;&quot;) &#39;volume-mute-toggle)
</span></code></pre>
<h3 id="brightness-control">BRIGHTNESS CONTROL</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(defun brightness-increase ()
</span><span>  (interactive)
</span><span>  (start-process-shell-command &quot;brightness up&quot; nil
</span><span>   &quot;brightnessctl set +3% &amp;&amp; notify-send &#39;Brightness ↑&#39; \&quot;$(brightnessctl g | awk &#39;{print int($1/10)*10 \&quot;%\&quot;}&#39;)\&quot;&quot;))
</span><span>
</span><span>(defun brightness-decrease ()
</span><span>  (interactive)
</span><span>  (start-process-shell-command &quot;brightness down&quot; nil
</span><span>   &quot;brightnessctl set 3%- &amp;&amp; notify-send &#39;Brightness ↓&#39; \&quot;$(brightnessctl g | awk &#39;{print int($1/10)*10 \&quot;%\&quot;}&#39;)\&quot;&quot;))
</span><span>
</span><span>
</span><span>;; ====== KEYBINDING FOR EMACS =====
</span><span>(global-set-key (kbd &quot;&lt;XF86MonBrightnessUp&gt;&quot;) &#39;brightness-increase)
</span><span>(global-set-key (kbd &quot;&lt;XF86MonBrightnessDown&gt;&quot;) &#39;brightness-decrease)
</span><span>
</span><span>
</span><span>;; ====== KEYBINDING FOR EXWM =====
</span><span>(define-key exwm-mode-map (kbd &quot;&lt;XF86MonBrightnessUp&gt;&quot;) &#39;brightness-increase)
</span><span>(define-key exwm-mode-map (kbd &quot;&lt;XF86MonBrightnessDown&gt;&quot;) &#39;brightness-decrease)
</span></code></pre>
<h3 id="sddm-background-update">SDDM BACKGROUND UPDATE</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>(defun my/update-sddm-wallpaper ()
</span><span>  &quot;Update SDDM wallpaper using external script in alacritty and notify via dunst.&quot;
</span><span>  (interactive)
</span><span>  (let* ((proc-name &quot;update-sddm-wallpaper&quot;)
</span><span>         (output-buffer &quot;*sddm-wallpaper-output*&quot;)
</span><span>         (script-path (expand-file-name &quot;~/.config/emacs/scripts/update-sddm-wallpaper.sh&quot;))
</span><span>         (terminal-command
</span><span>          (format &quot;alacritty -e bash -c &#39;bash %s; read -n 1 -s -r -p \&quot;[✓] Press any key to close...\&quot;&#39;&quot; script-path))
</span><span>         (proc (start-process-shell-command proc-name output-buffer terminal-command)))
</span><span>
</span><span>    ;; Notify when update starts
</span><span>    (start-process-shell-command &quot;notify-sddm-start&quot; nil
</span><span>                                  &quot;notify-send &#39;SDDM&#39; &#39;🖼️ Updating SDDM wallpaper...&#39; -u low&quot;)
</span><span>
</span><span>    ;; Notify when process finishes
</span><span>    (set-process-sentinel
</span><span>     proc
</span><span>     (let ((buf output-buffer)) ;; 👈 pass buffer into lambda
</span><span>       (lambda (_process event)
</span><span>         (when (get-buffer buf)
</span><span>           (kill-buffer buf))
</span><span>         (if (string= event &quot;finished\n&quot;)
</span><span>             (start-process-shell-command &quot;notify-sddm-end&quot; nil
</span><span>                                          &quot;notify-send &#39;SDDM&#39; &#39;✅ SDDM wallpaper updated successfully!&#39; -u normal&quot;)
</span><span>           (start-process-shell-command &quot;notify-sddm-fail&quot; nil
</span><span>                                        &quot;notify-send &#39;SDDM&#39; &#39;❌ SDDM wallpaper update failed!&#39; -u critical&quot;)))))))
</span></code></pre>
<h2 id="shortcut-for-lunching-application">SHORTCUT FOR LUNCHING APPLICATION</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span> (defun my/launch-firefox ()
</span><span>  &quot;launch firefox browser.&quot;
</span><span>  (interactive)
</span><span>  (start-process-shell-command &quot;firefox&quot; nil &quot;firefox&quot;))
</span><span>
</span><span> (defun my/launch-nitrogen ()
</span><span>  &quot;launch firefox browser.&quot;
</span><span>  (interactive)
</span><span>  (start-process-shell-command &quot;nitrogen&quot; nil &quot;nitrogen&quot;))
</span><span>
</span><span>(defun my/launch-thunar ()
</span><span>  &quot;Launch Thunar file manager.&quot;
</span><span>  (interactive)
</span><span>  (start-process-shell-command &quot;thunar&quot; nil &quot;thunar&quot;))
</span><span>
</span><span>;; Global Emacs keybindings (optional, if you want to use outside EXWM buffers too)
</span><span>(global-set-key (kbd &quot;M-B&quot;) #&#39;my/launch-firefox)
</span><span>(global-set-key (kbd &quot;M-e&quot;) #&#39;my/launch-thunar)
</span><span>(global-set-key (kbd &quot;M-N&quot;) #&#39;my/launch-nitrogen)
</span><span>
</span><span>
</span><span>;; EXWM-specific keybindings
</span><span>(with-eval-after-load &#39;exwm
</span><span>  (define-key exwm-mode-map (kbd &quot;M-B&quot;) #&#39;my/launch-firefox)
</span><span>  (define-key exwm-mode-map (kbd &quot;M-e&quot;) #&#39;my/launch-thunar))
</span><span>  (define-key exwm-mode-map (kbd &quot;M-N&quot;) #&#39;my/launch-nitrogen)
</span><span>
</span><span>;; ALACRITTY TOGGLE 
</span><span>(defvar my/alacritty-process-name &quot;alacritty&quot;)
</span><span>(defun my/kill-alacritty ()
</span><span>  &quot;Kill all kitty windows.&quot;
</span><span>  (interactive)
</span><span>  (dolist (buffer (buffer-list))
</span><span>    (with-current-buffer buffer
</span><span>      (when (and (eq major-mode &#39;exwm-mode)
</span><span>                 (string-match &quot;alacritty&quot; (or exwm-class-name &quot;&quot;)))
</span><span>        (kill-buffer buffer)))))
</span><span>
</span><span>(defun my/toggle-alacritty ()
</span><span>  &quot;Toggle alacritty terminal: launch if not visible, close if focused.&quot;
</span><span>  (interactive)
</span><span>  (let ((alacritty-buffer
</span><span>         (seq-find (lambda (buf)
</span><span>                     (with-current-buffer buf
</span><span>                       (and (eq major-mode &#39;exwm-mode)
</span><span>                            (string-match &quot;alacritty&quot; (or exwm-class-name &quot;&quot;)))))
</span><span>                   (buffer-list))))
</span><span>    (if (and alacritty-buffer (eq (current-buffer) alacritty-buffer))
</span><span>        ;; We&#39;re in the alacritty window, so kill it
</span><span>        (my/kill-alacritty)
</span><span>      ;; Else, launch it
</span><span>      (start-process-shell-command my/alacritty-process-name nil &quot;alacritty&quot;))))
</span><span>
</span><span>(global-set-key (kbd &quot;M-t&quot;) #&#39;my/toggle-alacritty)
</span><span>(define-key exwm-mode-map (kbd &quot;M-t&quot;) #&#39;my/toggle-alacritty)
</span><span>
</span><span>;; FULLSCREEN TOGGLE
</span><span>(defvar my/fullscreen-p nil
</span><span>  &quot;Toggle fullscreen mode.&quot;)
</span><span>
</span><span>(defun my/toggle-fullscreen ()
</span><span>  (interactive)
</span><span>  (if (not my/fullscreen-p)
</span><span>      (progn
</span><span>        ;; Emacs frame fullscreen
</span><span>        (set-frame-parameter nil &#39;fullscreen &#39;fullboth)
</span><span>        ;; EXWM window fullscreen (works for tiling too)
</span><span>        (when (eq major-mode &#39;exwm-mode)
</span><span>          (exwm-layout-set-fullscreen t))
</span><span>        (setq my/fullscreen-p t))
</span><span>    (progn
</span><span>      ;; Emacs frame normal
</span><span>      (set-frame-parameter nil &#39;fullscreen nil)
</span><span>      ;; EXWM window un-fullscreen
</span><span>      (when (eq major-mode &#39;exwm-mode)
</span><span>        (exwm-layout-unset-fullscreen))
</span><span>      (setq my/fullscreen-p nil))))
</span><span>
</span><span>(global-set-key (kbd &quot;M-m x&quot;) #&#39;my/toggle-fullscreen)
</span><span>(define-key exwm-mode-map (kbd &quot;M-m x&quot;) #&#39;my/toggle-fullscreen)
</span></code></pre>
<h2 id="customized-function-name">CUSTOMIZED FUNCTION NAME</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>;; Power Menu
</span><span>(defalias &#39;Power-menu #&#39;my/power-menu)
</span><span>
</span><span>;; Lock Screen
</span><span>(defalias &#39;Lock-screen #&#39;my/lock-screen)
</span><span>
</span><span>;; Update Lock Screen Background
</span><span>(defalias &#39;Update-lockscreen-bg #&#39;my/update-lockscreen-background)
</span><span>
</span><span>;; Update SDDM Wallpaper
</span><span>(defalias &#39;Update-sddm-wallpaper #&#39;my/update-sddm-wallpaper)
</span><span>
</span><span>(defalias &#39;ORG-TO-MD-CONVERT #&#39;my/org-md-export-to-markdown-with-header)
</span></code></pre>
<h2 id="exwm-keybindings">EXWM KEYBINDINGS</h2>
<h3 id="buffer">BUFFER</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>;; Unbind M-b from any previous behavior (like backward-word)
</span><span>(define-key exwm-mode-map (kbd &quot;M-b&quot;) nil)  ;; Start defining a prefix for M-b in EXWM
</span><span>
</span><span>;; EXWM controls under M-b
</span><span>(define-key exwm-mode-map (kbd &quot;M-b r&quot;) &#39;exwm-reset) ;; Reset EXWM
</span><span>(define-key exwm-mode-map (kbd &quot;M-b w&quot;) &#39;exwm-workspace-switch) ;; Switch workspace
</span><span>(define-key exwm-mode-map (kbd &quot;M-b i&quot;) &#39;exwm-workspace-switch-to-buffer) ;; Uncomment if needed
</span><span>(define-key exwm-mode-map (kbd &quot;M-b d&quot;) &#39;exwm-workspace-delete) ;; Delete workspace
</span><span>(define-key exwm-mode-map (kbd &quot;M-b h&quot;) &#39;windmove-left)  ;; Move focus left
</span><span>(define-key exwm-mode-map (kbd &quot;M-b j&quot;) &#39;windmove-down)  ;; Move focus down
</span><span>(define-key exwm-mode-map (kbd &quot;M-b l&quot;) &#39;windmove-right)  ;; Move focus right
</span><span>(define-key exwm-mode-map (kbd &quot;M-b k&quot;) &#39;kill-buffer-and-window)  ;; Kill buffer + window
</span><span>(define-key exwm-mode-map (kbd &quot;M-b f&quot;) &#39;exwm-floating-toggle-floating) ;; Toggle floating mode
</span><span>(define-key exwm-mode-map (kbd &quot;M-b m&quot;) &#39;exwm-layout-toggle-mode-line) ;; Toggle mode-line visibility
</span><span>(define-key exwm-mode-map (kbd &quot;M-b q&quot;) &#39;exwm-input-release-keyboard) ;; Release EXWM keyboard Release
</span></code></pre>
<h3 id="window-1">WINDOW</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>;; Define M-w as a prefix key for EXWM
</span><span>(define-key exwm-mode-map (kbd &quot;M-w&quot;) nil)  ;; Start defining a prefix for M-w in EXWM
</span><span>
</span><span>;; Window management keybindings
</span><span>(define-key exwm-mode-map (kbd &quot;M-w c&quot;) &#39;evil-window-delete)
</span><span>(define-key exwm-mode-map (kbd &quot;M-w n&quot;) &#39;evil-window-new)
</span><span>(define-key exwm-mode-map (kbd &quot;M-w s&quot;) &#39;evil-window-split)
</span><span>(define-key exwm-mode-map (kbd &quot;M-w v&quot;) &#39;evil-window-vsplit)
</span><span>(define-key exwm-mode-map (kbd &quot;M-w W&quot;) &#39;exwm-workspace-move-window)
</span><span>
</span><span>;; Window motions
</span><span>(define-key exwm-mode-map (kbd &quot;M-w h&quot;) &#39;evil-window-left)
</span><span>(define-key exwm-mode-map (kbd &quot;M-w j&quot;) &#39;evil-window-down)
</span><span>(define-key exwm-mode-map (kbd &quot;M-w k&quot;) &#39;evil-window-up)
</span><span>(define-key exwm-mode-map (kbd &quot;M-w l&quot;) &#39;evil-window-right)
</span><span>(define-key exwm-mode-map (kbd &quot;M-w w&quot;) &#39;evil-window-next)
</span><span>
</span><span>;; Move windows
</span><span>(define-key exwm-mode-map (kbd &quot;M-w H&quot;) &#39;buf-move-left)
</span><span>(define-key exwm-mode-map (kbd &quot;M-w J&quot;) &#39;buf-move-down)
</span><span>(define-key exwm-mode-map (kbd &quot;M-w K&quot;) &#39;buf-move-up)
</span><span>(define-key exwm-mode-map (kbd &quot;M-w L&quot;) &#39;buf-move-right)
</span><span>(define-key exwm-mode-map (kbd &quot;M-w m&quot;) &#39;save-buffers-kill-emacs)
</span></code></pre>
<h3 id="dired-and-menu">DIRED AND MENU</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>;; Define M-d as a prefix key in EXWM mode
</span><span>(define-key exwm-mode-map (kbd &quot;M-d&quot;) nil)
</span><span>
</span><span>;; Dired keybindings under M-d for exwm
</span><span>;; (define-key exwm-mode-map (kbd &quot;M-d D&quot;) &#39;dired) ;; Open dired
</span><span>(define-key exwm-mode-map (kbd &quot;M-d D&quot;) &#39;counsel-linux-app) ;; Open dired
</span><span>(define-key exwm-mode-map (kbd &quot;M-d d&quot;) &#39;app-launcher-run-app)
</span><span>(define-key exwm-mode-map (kbd &quot;M-d j&quot;) &#39;dired-jump) ;; Jump to current directory in Dired
</span><span>(define-key exwm-mode-map (kbd &quot;M-d n&quot;) &#39;neotree-dir) ;; Open directory in Neotree
</span><span>(define-key exwm-mode-map (kbd &quot;M-d p&quot;) &#39;peep-dired) ;; Peep Dired preview
</span></code></pre>
<h3 id="personal-keybindings">PERSONAL KEYBINDINGS</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>;; ===== personal keybinding for menus =====
</span><span>(define-key exwm-mode-map (kbd &quot;M-m&quot;) nil)
</span><span>
</span><span>(define-key exwm-mode-map (kbd &quot;M-m m&quot;) #&#39;ORG-TO-MD-CONVERT)
</span><span>(define-key exwm-mode-map (kbd &quot;M-m l&quot;) #&#39;Lock-screen)
</span><span>(define-key exwm-mode-map (kbd &quot;M-m b&quot;) #&#39;Update-lockscreen-bg)
</span><span>(define-key exwm-mode-map (kbd &quot;M-m p&quot;) #&#39;Update-sddm-wallpaper)
</span><span>(define-key exwm-mode-map (kbd &quot;M-m x&quot;) &#39;exwm-layout-toggle-fullscreen)
</span></code></pre>

    </div>

    
</article>

<script>
// Auto-generate Table of Contents - LT Blog Style
document.addEventListener('DOMContentLoaded', function() {
    const content = document.querySelector('.content');
    const desktopTocList = document.getElementById('desktop-toc-list');
    const mobileTocList = document.getElementById('mobile-toc-list');
    const desktopToc = document.getElementById('desktop-toc');
    const mobileToc = document.getElementById('mobile-toc');

    if (!content || !desktopTocList || !mobileTocList) return;

    const headings = content.querySelectorAll('h1, h2, h3, h4, h5, h6');

    if (headings.length === 0) {
        if (desktopToc) desktopToc.style.display = 'none';
        if (mobileToc) mobileToc.style.display = 'none';
        return;
    }

    const createToc = (tocList) => {
        let currentLevel = 0;
        let currentUl = tocList;
        let levelStack = [tocList];

        headings.forEach((heading, index) => {
            if (!heading.id) {
                heading.id = 'heading-' + index;
            }

            const level = parseInt(heading.tagName.charAt(1));
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = '#' + heading.id;
            a.textContent = heading.textContent;
            a.className = 'toc-' + heading.tagName.toLowerCase();

            a.addEventListener('click', function(e) {
                e.preventDefault();
                heading.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            });

            if (level > currentLevel) {
                const nestedUl = document.createElement('ul');
                if (levelStack[levelStack.length - 1].lastElementChild) {
                    levelStack[levelStack.length - 1].lastElementChild.appendChild(nestedUl);
                } else {
                    levelStack[levelStack.length - 1].appendChild(nestedUl);
                }
                levelStack.push(nestedUl);
                currentUl = nestedUl;
            } else if (level < currentLevel) {
                while (levelStack.length > level && levelStack.length > 1) {
                    levelStack.pop();
                }
                currentUl = levelStack[levelStack.length - 1];
            }

            currentLevel = level;
            li.appendChild(a);
            currentUl.appendChild(li);
        });
    };

    createToc(desktopTocList);
    createToc(mobileTocList);
});
</script>

<style>
/* Additional TOC styling specific to different heading levels */
.toc-h1 { font-weight: bold; color: #e6edf3 !important; }
.toc-h2 { font-weight: normal; color: #c478ff !important; }
.toc-h3 { font-weight: normal; color: #8b949e !important; }
.toc-h4, .toc-h5, .toc-h6 { font-weight: normal; color: #7d8590 !important; }
</style>

        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const hamburger = document.getElementById('hamburger-button');
            const navDrawer = document.getElementById('nav-drawer');

            if (hamburger && navDrawer) {
                hamburger.addEventListener('click', function() {
                    hamburger.classList.toggle('is-active');
                    navDrawer.classList.toggle('is-open');
                });
            }
        });
    </script>
</body>
</html>
